{"version":3,"sources":["authentication/pages/Signup.js"],"names":["Signup","auth","useContext","AuthContext","useHttp","isLoading","error","sendRequest","inputs","id","data","type","placeholder","validityRules","VALIDATE_REQUIRED","VALIDATE_MAX","errorMsg","params","VALIDATE_MIN","VALIDATE_EMAIL","signupHandler","a","console","log","JSON","stringify","username","formState","value","email","password","login","useForm","isValid","changeHandler","submitHandler","className","btnText"],"mappings":"gOA0FeA,UAjFA,WAAO,IAAD,IACbC,EAAOC,qBAAWC,KAExB,EAAiDC,cAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KAAkCC,GAAlC,WAEMC,EAAS,CACb,CACEC,GAAI,WACJC,KAAM,CACJC,KAAM,OACNC,YAAa,WACbC,eAAa,mBACVC,IAAoB,8BADV,cAEVC,IAAe,CAAEC,SAAU,wDAAyDC,OAAQ,KAFlF,cAGVC,IAAe,CAAEF,SAAU,mDAAoDC,OAAQ,IAH7E,KAOjB,CACER,GAAI,QACJC,KAAM,CACJC,KAAM,OACNC,YAAa,QACbC,cAAc,eACXM,IAAiB,mCAIxB,CACEV,GAAI,WACJC,KAAM,CACJC,KAAM,WACNC,YAAa,WACbC,eAAa,mBACVC,IAAoB,4BADV,cAEVI,IAAe,CAAEF,SAAU,mDAAoDC,OAAQ,IAF7E,MAQbG,EAAa,uCAAG,sBAAAC,EAAA,6DACpBC,QAAQC,IAAI,SADQ,kBAGZhB,EACJ,cACA,OACAiB,KAAKC,UAAU,CACbC,SAAUC,EAAUnB,OAAOkB,SAASE,MACpCC,MAAOF,EAAUnB,OAAOqB,MAAMD,MAC9BE,SAAUH,EAAUnB,OAAOsB,SAASF,QAEtC,CAAE,eAAgB,qBAXF,OAalB3B,EAAK8B,QAba,gDAelBT,QAAQC,IAAR,MAfkB,yDAAH,qDAmBnB,EACES,YAAQxB,EAAQ,CAAEyB,SAAS,GAASb,GADtC,mBAAOO,EAAP,KAAkBO,EAAlB,KAAiCC,EAAjC,KAGA,OACE,qBAAKC,UAAU,sBAAf,SACE,cAAC,IAAD,CACEA,UAAU,yBACVC,QAAQ,UACRhC,UAAWA,EACXC,MAAOA,EACPqB,UAAWA,EACXQ,cAAeA,EACfD,cAAeA,EACf1B,OAAQA,EARV,SAUE,oBAAI4B,UAAU,2BAAd","file":"static/js/7.18fa2010.chunk.js","sourcesContent":["import React, { useContext } from 'react';\n\nimport { VALIDATE_EMAIL, VALIDATE_MAX, VALIDATE_MIN, VALIDATE_REQUIRED } from '../../shared/utils/validations';\nimport { useHttp } from '../../shared/hooks/useHttp';\nimport { useForm } from '../../shared/hooks/useForm';\nimport { AuthContext } from '../../shared/context/auth-context';\n\nimport Form from '../../shared/components/Forms/Form';\n\nconst Signup = () => {\n  const auth = useContext(AuthContext);\n\n  const [isLoading, error, success, sendRequest] = useHttp();\n\n  const inputs = [\n    {\n      id: 'username',\n      data: {\n        type: 'text',\n        placeholder: 'Username',\n        validityRules: {\n          [VALIDATE_REQUIRED]: 'Please enter in a username',\n          [VALIDATE_MAX]: { errorMsg: 'Your username must contain no more than 24 characters', params: 24 },\n          [VALIDATE_MIN]: { errorMsg: 'Your username must contain at least 8 characters', params: 8 }\n        }\n      }\n    },\n    {\n      id: 'email',\n      data: {\n        type: 'text',\n        placeholder: 'Email',\n        validityRules: {\n          [VALIDATE_EMAIL]: 'Please enter in a valid email'\n        }\n      }\n    },\n    {\n      id: 'password',\n      data: {\n        type: 'password',\n        placeholder: 'Password',\n        validityRules: {\n          [VALIDATE_REQUIRED]: 'Please create a password',\n          [VALIDATE_MIN]: { errorMsg: 'Your password must contain at least 8 characters', params: 8 }\n        }\n      }\n    }\n  ]\n\n  const signupHandler = async () => { \n    console.log('hello')\n    try {\n      await sendRequest(\n        '/api/signup',\n        'POST',\n        JSON.stringify({\n          username: formState.inputs.username.value,\n          email: formState.inputs.email.value,\n          password: formState.inputs.password.value\n        }),\n        { 'Content-Type': 'application/json' }\n      );\n      auth.login();\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const [formState, changeHandler, submitHandler] =\n    useForm(inputs, { isValid: false }, signupHandler);\n\n  return (\n    <div className=\"flex justify-center\">\n      <Form\n        className=\"max-w-[32rem] relative\"\n        btnText=\"Sign up\"\n        isLoading={isLoading}\n        error={error}\n        formState={formState}\n        submitHandler={submitHandler}\n        changeHandler={changeHandler}\n        inputs={inputs}\n      >\n        <h2 className=\"text-3xl font-light mb-4\">Create an account</h2>\n      </Form>\n    </div>\n  );\n}\n\nexport default Signup;"],"sourceRoot":""}