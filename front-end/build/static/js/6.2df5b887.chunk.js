(this["webpackJsonpmern-ecommerce"]=this["webpackJsonpmern-ecommerce"]||[]).push([[6],{60:function(e,a,t){"use strict";t.r(a);var n=t(18),r=t.n(n),s=t(19),i=t(2),c=t(14),l=t(0),o=t(28),u=t(20),d=t(15),p=t(29),m=t(13),b=t(1);a.default=function(){var e=Object(l.useContext)(m.a),a=[{id:"email",data:{type:"text",placeholder:"Email",validityRules:Object(c.a)({},d.a,"Please enter in a valid email")}},{id:"password",data:{type:"password",placeholder:"Password",validityRules:Object(c.a)({},d.d,"Please enter in your password")}}],t=Object(u.a)(),n=Object(i.a)(t,4),j=n[0],h=n[1],f=(n[2],n[3]),v=function(){var a=Object(s.a)(r.a.mark((function a(){var t,n,s,i,c,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f("/api/login","POST",JSON.stringify({email:w.inputs.email.value,password:w.inputs.password.value}),{});case 3:t=a.sent,n=t.user,s=n.id,i=n.username,c=n.isAdmin,l=n.token,e.login({id:s,username:i,isAdmin:c},l),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),k(["password"]);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}(),x=Object(o.a)(a,{isValid:!1},v),O=Object(i.a)(x,4),w=O[0],y=O[1],g=O[2],k=O[3];return Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)(p.a,{className:"max-w-[32rem]",btnText:"Login",isLoading:j,error:h,formState:w,submitHandler:g,changeHandler:y,inputs:a,children:Object(b.jsx)("h2",{className:"text-3xl font-light mb-4",children:"Log into your account"})})})}}}]);
//# sourceMappingURL=6.2df5b887.chunk.js.map